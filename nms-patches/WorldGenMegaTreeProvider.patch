--- a/net/minecraft/server/WorldGenMegaTreeProvider.java
+++ b/net/minecraft/server/WorldGenMegaTreeProvider.java
@@ -28,6 +28,7 @@
         if (worldgentreeabstract == null) {
             return false;
         } else {
+            setTreeType(worldgentreeabstract); // CraftBukkit
             IBlockData iblockdata1 = Blocks.AIR.getBlockData();
 
             generatoraccess.setTypeAndData(blockposition.a(i, 0, j), iblockdata1, 4);
